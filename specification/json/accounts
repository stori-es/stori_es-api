{
  "apiVersion": 1,
  "swaggerVersion": 1.2,
  "basePath": "http://www.stori.es/api/website/listings",
  "description": "Operations for accounts",
  "resourcePath": "/accounts",
  "produces": [
    "application/vnd.api+json"
  ],
  "consumes": [
    "application/vnd.api+json"
  ],
  "apis": [
    {
      "path": "/accounts",
      "operations": [
        {
          "method": "POST",
          "summary": "Create a new account",
          "notes": "Creates a new account and returns it. Declares the resource URL in the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.30\" title=\"HTTP 1.1 Header Fields - Location\">HTTP Location header</a>.",
          "type": "ApiResponse",
          "nickname": "create_account",
          "parameters": [
            {
              "name": "body",
              "description": "The new account to be created",
              "required": true,
              "type": "AccountPost",
              "paramType": "body"
            }
          ],
          "responseMessages": [
            {
              "code": 201,
              "message": "Resource successfully created",
              "responseModel": "ApiResponse"
            },
            {
              "code": 400,
              "message": "Invalid input",
              "responseModel": "ApiResponse"
            },
            {
              "code": 403,
              "message": "Not authorized to create the requested resource",
              "responseModel": "ApiResponse"
            },
            {
              "code": 503,
              "message": "Service is currently unavailable",
              "responseModel": "ApiResponse"
            }
          ]
        }
      ]
    },
    {
      "path": "/accounts/{account_id}",
      "operations": [
        {
          "method": "GET",
          "summary": "Retrieve a specific account",
          "notes": "Returns a specific account accessible to the current user",
          "type": "ApiResponse",
          "nickname": "get_account",
          "parameters": [
            {
              "name": "account_id",
              "description": "The ID of the account to retrieve",
              "required": true,
              "type": "string",
              "paramType": "path"
            }
          ],
          "responseMessages": [
            {
              "code": 200,
              "message": "Resource successfully retrieved",
              "responseModel": "ApiResponse"
            },
            {
              "code": 403,
              "message": "Not authorized to access the requested resource",
              "responseModel": "ApiResponse"
            },
            {
              "code": 404,
              "message": "Resource not found",
              "responseModel": "ApiResponse"
            },
            {
              "code": 503,
              "message": "Service is currently unavailable",
              "responseModel": "ApiResponse"
            }
          ]
        },
        {
          "method": "DELETE",
          "summary": "Delete an account",
          "notes": "Deletes an account owned by the current user",
          "type": "void",
          "nickname": "delete_account",
          "parameters": [
            {
              "name": "account_id",
              "description": "The ID of the account to delete",
              "required": true,
              "type": "string",
              "paramType": "path"
            }
          ],
          "responseMessages": [
            {
              "code": 204,
              "message": "Resource successfully deleted"
            },
            {
              "code": 403,
              "message": "Not authorized to delete the requested resource",
              "responseModel": "ApiResponse"
            },
            {
              "code": 404,
              "message": "Resource not found",
              "responseModel": "ApiResponse"
            },
            {
              "code": 503,
              "message": "Service is currently unavailable",
              "responseModel": "ApiResponse"
            }
          ]
        },
        {
          "method": "PATCH",
          "summary": "Update an account",
          "notes": "Updates an account administered by the current user",
          "type": "ApiResponse",
          "nickname": "update_account",
          "consumes": [
            "application/json-patch+json"
          ],
          "parameters": [
            {
              "name": "account_id",
              "description": "The ID of the account to update",
              "required": true,
              "type": "string",
              "paramType": "path"
            },
            {
              "name": "body",
              "description": "Requested modifications in JSON Patch format (see <a href=\"http://tools.ietf.org/html/rfc6902\" title=\"RFC6902 - JSON Patch\">RFC6902</a> and <a href=\"http://jsonapi.org/format/#updating-a-document\" title=\"JSON API - Updating a Document (PATCH)\">JSON API</a>)",
              "required": true,
              "type": "PatchOperations",
              "paramType": "body"
            }
          ],
          "responseMessages": [
            {
              "code": 200,
              "message": "Resource successfully updated",
              "responseModel": "ApiResponse"
            },
            {
              "code": 400,
              "message": "Invalid input",
              "responseModel": "ApiResponse"
            },
            {
              "code": 403,
              "message": "Not authorized to update the requested resource",
              "responseModel": "ApiResponse"
            },
            {
              "code": 404,
              "message": "Resource not found",
              "responseModel": "ApiResponse"
            },
            {
              "code": 503,
              "message": "Service is currently unavailable",
              "responseModel": "ApiResponse"
            }
          ]
        }
      ]
    }
  ],
  "models": {
    "Account": {
      "id": "Account",
      "description": "The representation of an account on the stori.es platform",
      "required": [
        "id",
        "handle"
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "The unique ID for this entity"
        },
        "handle": {
          "type": "string",
          "description": "The handle of this account"
        },
        "profile_ids": {
          "type": "array",
          "description": "The IDs of profiles associated with this account",
          "items": {
            "type": "integer",
            "format": "int64"
          }
        },
        "default_profile_id": {
          "type": "integer",
          "format": "int64",
          "description": "The ID of the default profile associated with this account"
        },
        "note_ids": {
          "type": "array",
          "description": "The IDs of notes associated with this entity",
          "items": {
            "type": "integer",
            "format": "int64"
          }
        },
        "link_ids": {
          "type": "array",
          "description": "The IDs of links associated with this entity",
          "items": {
            "type": "integer",
            "format": "int64"
          }
        }
      }
    }
  }
}