{
  "apiVersion": 1,
  "swaggerVersion": 1.2,
  "basePath": "http://www.stori.es/api/listings",
  "description": "Operations for response documents",
  "resourcePath": "/responses",
  "produces": [
    "application/json"
  ],
  "consumes": [
    "application/json"
  ],
  "apis": [
    {
      "path": "/responses",
      "operations": [
        {
          "method": "POST",
          "summary": "Create a new response document",
          "responses": "Creates a new response document and returns it. Declares the resource URL in the Location header.",
          "type": "Response",
          "nickname": "create_response",
          "parameters": [
            {
              "name": "body",
              "description": "The new response document to be created",
              "required": true,
              "type": "Response",
              "paramType": "body"
            }
          ],
          "responseMessages": [
            {
              "code": 201,
              "message": "Resource successfully created",
              "responseModel": "Response"
            },
            {
              "code": 400,
              "message": "Invalid input",
              "responseModel": "Error"
            },
            {
              "code": 403,
              "message": "Not authorized to create the requested resource",
              "responseModel": "Error"
            },
            {
              "code": 503,
              "message": "Service is currently unavailable",
              "responseModel": "Error"
            }
          ]
        }
      ]
    },
    {
      "path": "/responses/{response_id}",
      "operations": [
        {
          "method": "GET",
          "summary": "Retrieve a specific response document",
          "responses": "Returns a specific response document accessible to the current user",
          "type": "Response",
          "nickname": "get_response",
          "parameters": [
            {
              "name": "response_id",
              "description": "The ID of the response document to retrieve",
              "required": true,
              "type": "integer",
              "format": "int64",
              "paramType": "path"
            }
          ],
          "responseMessages": [
            {
              "code": 200,
              "message": "Resource successfully retrieved",
              "responseModel": "Response"
            },
            {
              "code": 403,
              "message": "Not authorized to access the requested resource",
              "responseModel": "Error"
            },
            {
              "code": 404,
              "message": "Resource not found",
              "responseModel": "Error"
            },
            {
              "code": 503,
              "message": "Service is currently unavailable",
              "responseModel": "Error"
            }
          ]
        },
        {
          "method": "DELETE",
          "summary": "Deletes a response document",
          "responses": "Deletes a response document owned by the current user",
          "type": "void",
          "nickname": "delete_response",
          "parameters": [
            {
              "name": "response_id",
              "description": "The ID of the response document to delete",
              "required": true,
              "type": "integer",
              "format": "int64",
              "paramType": "path"
            }
          ],
          "responseMessages": [
            {
              "code": 204,
              "message": "Resource successfully deleted"
            },
            {
              "code": 403,
              "message": "Not authorized to delete the requested resource",
              "responseModel": "Error"
            },
            {
              "code": 404,
              "message": "Resource not found",
              "responseModel": "Error"
            },
            {
              "code": 503,
              "message": "Service is currently unavailable",
              "responseModel": "Error"
            }
          ]
        },
        {
          "method": "PATCH",
          "summary": "Updates a response document",
          "responses": "Updates a response document administered by the current user",
          "type": "Response",
          "nickname": "update_response",
          "parameters": [
            {
              "name": "response_id",
              "description": "The ID of the response document to update",
              "required": true,
              "type": "integer",
              "format": "int64",
              "paramType": "path"
            },
            {
              "name": "body",
              "description": "The updated response document",
              "required": true,
              "type": "Response",
              "paramType": "body"
            }
          ],
          "responseMessages": [
            {
              "code": 200,
              "message": "Resource successfully updated",
              "responseModel": "Response"
            },
            {
              "code": 400,
              "message": "Invalid input",
              "responseModel": "Error"
            },
            {
              "code": 403,
              "message": "Not authorized to update the requested resource",
              "responseModel": "Error"
            },
            {
              "code": 404,
              "message": "Resource not found",
              "responseModel": "Error"
            },
            {
              "code": 503,
              "message": "Service is currently unavailable",
              "responseModel": "Error"
            }
          ]
        }
      ]
    }
  ],
  "models": {
    "Response": {
      "id": "Response",
      "description": "The representation of a response document on the stori.es platform",
      "required": [
        "id",
        "title",
        "permalink",
        "entity_id"
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "The unique ID for this entity"
        },
        "title": {
          "type": "string",
          "description": "The title of this document"
        },
        "permalink": {
          "type": "string",
          "description": "The URL of this document"
        },
        "entity_id": {
          "type": "integer",
          "format": "int64",
          "description": "The entity which this document is associated with",
          "minimum": 1
        }
      }
    },
    "Error": {
      "id": "Error",
      "description": "The representation of a stori.es API error",
      "required": [
        "http_status_code",
        "error_code",
        "summary"
      ],
      "properties": {
        "http_status_code": {
          "type": "integer",
          "format": "int64",
          "description": "The HTTP status code"
        },
        "error_code": {
          "type": "string",
          "description": "The stori.es internal error code"
        },
        "summary": {
          "type": "string",
          "description": "A brief summary of the error encountered"
        },
        "detail_url": {
          "type": "string",
          "description": "A URL for developers containing more detail about the error"
        }
      }
    }
  }
}